<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Kaushan+Script" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Merienda" rel="stylesheet">
  
    <title>Shop</title>
  </head>
  <body class="backgr_shop">
    

      <div class="general_row">
          
          <div class="row">
            <div class="col-lg-12">
              
                <div class="top_header">
                   <div class="inner_header">
                        <div class="icon_tel">
                           <img src="img/icon_telephone.png" alt="">
                        </div>
                        <div class="teleph">
                          <a href="" class="tel_text"> +38 (093) 03 26 186</a>
                          <a href="">cateclub@gmail.com</a>
                        </div>
                        <div class="icon_facebook">
                           <a href="https://www.facebook.com/cateclub.lviv" target="_blank"><img src="img/icon_facebook.png" alt=""></a>
                        </div>
                        <div class="icon_twitter">
                          <a href="https://twitter.com/?lang=en" target="_blank"><img src="img/icon_twitter.png" alt=""></a>
                        </div>
                         <div class="login_text">
                          <button id="login_" type="button" href="">Login |</button>
                        </div>
                         <div class="login_text registration">
                          <button id="registr_button" type="button" href="">Registration</button>
                        </div>
                        <div class="clear"></div>
                  </div>
                </div>

            </div>
          </div>


          <nav  id="menu" class="navbar navbar-expand-lg navbar-light">
            
            <a class="navbar-brand" href="#">Cate Club</a>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
              <div class="my_float">
                    <ul class="navbar-nav">
                          <li class="nav-item">
                            <a class="nav-link" href="index.html">Home</a>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link" href="index.html#yak2">Blog</a>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link" href="index.html#yak3">Events</a>
                          </li>
                           <li class="nav-item">
                            <a class="nav-link" href="index.html#yak4">Team</a>
                          </li>
                           <li class="nav-item">
                            <a class="nav-link" href="index.html#yak5">Contacts</a>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link" href="shop.html">Shop</a>
                          </li>
                           <li class="nav-item">
                            <a class="nav-link" href="cart.html"><img src="img/icon_shop.png" alt=""></a>
                          </li>
                    </ul>
              </div>
            </div>
         
          </nav>



        <div class="row">
          <div class="col-lg-3 right">
            <div class="search_left_col">

               <form class="form-inline">
                  <input id="searcByName" class="form-control" placeholder="Search..." aria-label="Search">
                  <button id="search" type="button">Search</button>
                  
               </form>
               
             <div id="contentCategory" class="form-control">
               <ul id="categoryInShop" class="shop_left_menu">
                     </ul>
               </div>
            </div>
          </div>

          <div class="col-lg-9">
            <div class="products_right_col" >
              <h3>SHOP</h3>
              <div class="row" id="GoodsList"  >
                   
                 
              </div>
              </div>




            </div>
          </div>

        </div>




          <div class="row">
            
              <div class="col-lg-12">
                  <div class="socialnetworks">
                    <ul>
                          <li>
                            <a href=""><img src="img/facebook_footer.png" alt=""></a> 
                          </li>
                          <li>
                            <a href=""><img src="img/twitter_footer.png" alt=""></a>
                          </li>
                          <li>
                            <a href=""><img src="img/instagram_footer.png" alt=""></a>
                          </li>
                           <li>
                            <a href=""><img src="img/google_footer.png" alt=""></a>
                          </li>
                    
                    </ul>
                  </div>
                  <div class="copyright">
                      <p> &copy; 2018 CATECLUB. ALL RIGHTS RESERVED.</p>
                  </div>
              </div>

          </div>


    





    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
   <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>


    <script type="text/javascript">
     
        
      $(document).ready(function() {
          $('#login_').click( function(event){
          event.preventDefault(); 
         $('#overlay').fadeIn(400, function(){
          $('#login_form') 
          .css('display', 'block') 
          .animate({opacity: 1, top: '7%'}, 200); 
         });
      });

      /* Зaкрытие мoдaльнoгo oкнa, тут делaем тo же сaмoе нo в oбрaтнoм пoрядке */
    $('#close_form, #overlay').click( function(){ // лoвим клик пo крестику или пoдлoжке
        $('#login_form')
          .animate({opacity: 0, top: '45%'}, 200,  
            function(){
              $(this).css('display', 'none'); 
              $('#overlay').fadeOut(400); 
            }
          );
      });
    });
        


      $(document).ready(function() {
          $('#registr_button').click( function(event){
          event.preventDefault(); 
         $('#overlay').fadeIn(400, function(){
          $('#registr_form') 
          .css('display', 'block') 
          .animate({opacity: 1, top: '7%'}, 200); 
         });
      });

      /* Зaкрытие мoдaльнoгo oкнa, тут делaем тo же сaмoе нo в oбрaтнoм пoрядке */
    $('#close_registr_form, #overlay').click( function(){ // лoвим клик пo крестику или пoдлoжке
        $('#registr_form')
          .animate({opacity: 0, top: '45%'}, 200,  
            function(){
              $(this).css('display', 'none'); 
              $('#overlay').fadeOut(400); 
            }
          );
      });
    });
    </script>

    <!-- Виводимо категорії в Shop -->
    <script>

  $.ajax({
    url:"http://localhost:8080/category",
    type:"GET",
      headers: {
          "Authorize":"Bearer " + localStorage.getItem("token")
      },
      
    contentType:"application/json",
    success:function(data){
        for(var i=0; i<data.length;i++){
            $("#categoryInShop").append("<li>"+ data[i].nameCategory +"</li>"); 
        }
    },
    error:function(error){
      console.log(error);
    }
  });
    
    </script>
    
     <!-- Виводимо товари в Shop -->
    <script>

  $.ajax({
    url:"http://localhost:8080/goods",
    type:"GET",
      headers: {
          "Authorize":"Bearer " + localStorage.getItem("token"),
       },
    contentType:"application/json",
    success:function(data){
        
        for(var i=0; i<data.length;i++){
            
                var k=
                    " <div  class=\"col-lg-3\">\n" +
                    "<div class=\"product\">\n" +
                "<img src='C:/JAVA/CateClub/FrontEnd/projectCateClub/imgForGoods/"+data[i].img +"'>\n" +
                "<p class='product_name'>"+ data[i].nameGoods + "</p>\n"+        
                " <p class='price'>" + data[i].price +
                    "грн</p>" +
                    "<button>AddToCART</button>"+
                " </div>\n" +
                "</div>"
            $("#GoodsList").append(k);
        }
    },
    error:function(error){
      console.log(error);
    }
  });
    
    </script>
<!--
    <script>
    $(function()){
          $(".product").draggable();
              
          });
      </script>
    
    
-->
     <!-- Пошук товарів по іменні в Shop -->
  <script>
             $('#search').click(function(){
           
            var nameGoods2 = {
                nameGoods : $('#searcByName').val()
            }
            
            
            
    
           $.ajax({
                    'url':'http://localhost:8080/goods/search',
                    'type':"POST",
                     headers: {
                       "Authorize":"Bearer " + localStorage.getItem("token")
                    },

                    'contentType':'application/json',
                    'dataType':'json',
                    'data':JSON.stringify(nameGoods2),
                    'success':function(data){
                        alert("+");
                        for (var i = 0; i < data.length; i++) {
                    $("#GoodsList").append(
                        "<div  class=\"col-lg-3\">\n" +
                        "<div class=\"product\">\n" +
                        "<img src='C:/JAVA/CateClub/FrontEnd/projectCateClub/imgForGoods/"+data[i].img +"'>\n" +
                        "<p class='product_name'>"+ data[i].nameGoods + "</p>\n"+        
                        " <p class='price'>" + data[i].price +
                        "грн</p>" +
                        "<button>AddToCART</button>"+
                        " </div>\n" +
                        "</div>" );
                    }
                    }, 
                    error:function(error){
                        console.log(error);
                    }
                 
                });
          
            });
      
      </script>

  </body>
</html>